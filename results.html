<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Yuvia · Результаты поиска</title>
    <link rel="icon" type="image/png" href="assets/favicon.png" sizes="256x256" />
    <link rel="shortcut icon" type="image/png" href="assets/favicon.png" />
    <link rel="stylesheet" href="css/yuvia.css" />
  </head>
  <body>
    <div class="wrap">
      <header class="brand">
        <img src="assets/Logo-Full.png" alt="Yuvia" class="brand-logo" />
        <div class="brand-text">
          <div class="brand-name">Yuvia</div>
          <div class="brand-tagline">персональный тревел-консьерж</div>
          <div class="brand-subline">поиск авиабилетов</div>
        </div>
      </header>
      <div class="screen-back">
        <a href="search.html" class="btn-ghost btn-sm" id="backToSearch">← К поиску</a>
      </div>
      <div id="searchSummary" class="search-summary hidden">
        <div
          id="searchSummaryAction"
          class="search-summary--clickable"
        ></div>
      </div>
      <div id="searchOverlay" class="search-overlay hidden" aria-modal="true" role="dialog">
        <div class="search-overlay-card">
          <div class="search-overlay-handle" aria-hidden="true"></div>
          <div class="search-overlay-title" id="searchOverlayTitle">Редактировать поиск</div>
          <div id="searchInlineEditor" class="search-inline-editor hidden" aria-label="Редактировать поиск">
            <div id="inlineRouteEditor" class="inline-editor hidden" data-target="route">
              <div class="inline-editor-heading">Изменить маршрут</div>
              <div class="search-inline-grid inline-route-grid">
                <div class="field origin-field">
                  <div class="label">Откуда</div>
                  <div class="suggest-wrapper">
                    <input id="inlineOrigin" placeholder="Москва" autocomplete="off" />
                  </div>
                </div>
                <div class="field destination-field">
                  <div class="label">Куда</div>
                  <div class="suggest-wrapper">
                    <input id="inlineDestination" placeholder="Казань" autocomplete="off" />
                  </div>
                </div>
              </div>
              <div class="search-inline-actions">
                <button type="button" class="btn-ghost" data-inline-action="cancel">Отмена</button>
                <div class="actions-spacer"></div>
                <button type="button" class="btn-primary" data-inline-action="apply">Обновить поиск</button>
              </div>
            </div>

            <div id="inlineDatesEditor" class="inline-editor hidden" data-target="dates">
              <div class="inline-editor-heading">Изменить даты</div>
              <div class="search-inline-grid inline-dates-grid">
                <div class="field depart-field">
                  <div class="label">Дата вылета</div>
                  <input id="inlineDepart" type="date" />
                </div>
                <div class="field return-field">
                  <div class="label">Дата возвращения</div>
                  <input id="inlineRet" type="date" />
                </div>
                <div class="inline-oneway-row">
                  <label class="oneway-toggle" for="inlineOnewayToggle">
                    <input type="checkbox" id="inlineOnewayToggle" />
                    <span class="oneway-switch" aria-hidden="true"></span>
                    <span class="oneway-text">Только в одну сторону</span>
                  </label>
                </div>
              </div>
              <div class="search-inline-actions">
                <button type="button" class="btn-ghost" data-inline-action="cancel">Отмена</button>
                <div class="actions-spacer"></div>
                <button type="button" class="btn-primary" data-inline-action="apply">Обновить поиск</button>
              </div>
            </div>

            <div id="inlinePaxEditor" class="inline-editor hidden" data-target="pax">
              <div class="inline-editor-heading">Пассажиры и класс</div>
              <div class="pax-summary-line" id="inlinePaxSummary">1 пассажир, эконом</div>
              <div class="pax-grid">
                <div class="pax-row">
                  <div class="pax-label-wrap">
                    <div class="pax-title">Взрослые</div>
                    <div class="pax-note">от 12 лет</div>
                  </div>
                  <div class="pax-counter">
                    <button class="pax-btn" type="button" data-kind="adults" data-delta="-1">−</button>
                    <div class="pax-count" data-kind="adults">1</div>
                    <button class="pax-btn" type="button" data-kind="adults" data-delta="1">+</button>
                  </div>
                </div>
                <div class="pax-row">
                  <div class="pax-label-wrap">
                    <div class="pax-title">Дети</div>
                    <div class="pax-note">от 2 до 12 лет</div>
                  </div>
                  <div class="pax-counter">
                    <button class="pax-btn" type="button" data-kind="children" data-delta="-1">−</button>
                    <div class="pax-count" data-kind="children">0</div>
                    <button class="pax-btn" type="button" data-kind="children" data-delta="1">+</button>
                  </div>
                </div>
                <div class="pax-row">
                  <div class="pax-label-wrap">
                    <div class="pax-title">Младенцы</div>
                    <div class="pax-note">до 2 лет (без места)</div>
                  </div>
                  <div class="pax-counter">
                    <button class="pax-btn" type="button" data-kind="infants" data-delta="-1">−</button>
                    <div class="pax-count" data-kind="infants">0</div>
                    <button class="pax-btn" type="button" data-kind="infants" data-delta="1">+</button>
                  </div>
                </div>
              </div>
              <div class="pax-cabin pax-cabin-inline">
                <button type="button" class="pax-cabin-btn active" data-cabin="eco">Эконом</button>
                <button type="button" class="pax-cabin-btn" data-cabin="business">Бизнес</button>
              </div>
              <div class="search-inline-actions pax-inline-actions">
                <button type="button" class="btn-ghost" data-inline-action="cancel">Отмена</button>
                <div class="actions-spacer"></div>
                <button type="button" class="btn-primary" data-inline-action="apply">Обновить поиск</button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="two-col hidden" id="postSearchLayout">
        <div class="filters-mobile-toggle" id="filtersToggleWrap">
          <button type="button" class="btn-outline" id="filtersToggle">Фильтры</button>
        </div>
        <div class="card filters-block" id="filtersBlock">
          <div class="filters-header">
            <div class="section-title" style="margin-top: 0">Фильтры</div>
            <button type="button" class="filters-close" id="filtersClose" aria-label="Закрыть фильтры">
              ×
            </button>
          </div>

          <div class="filters-section">
            <div class="label">Пересадки</div>
            <div class="filter-list">
              <label class="filter-option">
                <input type="radio" name="stops" value="any" checked />
                <span>любые</span>
              </label>
              <label class="filter-option">
                <input type="radio" name="stops" value="0" />
                <span>только прямые</span>
              </label>
              <label class="filter-option">
                <input type="radio" name="stops" value="1" />
                <span>не более 1</span>
              </label>
            </div>
          </div>

          <div class="filters-section">
            <div class="label">
              Время рейса в <span id="timeOutboundLabel">город назначения</span> /
              обратно в <span id="timeReturnLabel">город вылета</span>
            </div>
            <div class="time-group">
              <div class="time-group-title">Туда</div>
              <div class="time-pill-row" id="depwin-outbound">
                <label class="time-pill">
                  <input type="checkbox" class="depwin-outbound" value="morning" />
                  <span>Утром</span>
                </label>
                <label class="time-pill">
                  <input type="checkbox" class="depwin-outbound" value="day" />
                  <span>День</span>
                </label>
                <label class="time-pill">
                  <input type="checkbox" class="depwin-outbound" value="evening" />
                  <span>Вечер</span>
                </label>
                <label class="time-pill">
                  <input type="checkbox" class="depwin-outbound" value="night" />
                  <span>Ночь</span>
                </label>
              </div>
            </div>
            <div class="time-group">
              <div class="time-group-title">Обратно</div>
              <div class="time-pill-row" id="depwin-return">
                <label class="time-pill">
                  <input type="checkbox" class="depwin-return" value="morning" />
                  <span>Утром</span>
                </label>
                <label class="time-pill">
                  <input type="checkbox" class="depwin-return" value="day" />
                  <span>День</span>
                </label>
                <label class="time-pill">
                  <input type="checkbox" class="depwin-return" value="evening" />
                  <span>Вечер</span>
                </label>
                <label class="time-pill">
                  <input type="checkbox" class="depwin-return" value="night" />
                  <span>Ночь</span>
                </label>
              </div>
            </div>
          </div>

          <div class="filters-section">
            <div class="label">Бюджет, ₽</div>
            <div class="budget-row">
              <input id="priceMin" type="number" placeholder="от" />
              <span class="budget-separator">—</span>
              <input id="priceMax" type="number" placeholder="до" />
            </div>
          </div>

          <div class="filters-section">
            <div class="filters-row">
              <div class="label">Длительность рейса</div>
              <button type="button" class="link-btn" id="durationReset">Сбросить</button>
            </div>
            <div class="duration-wrap">
              <input type="range" id="durMax" min="1" max="36" step="0.5" value="36" />
              <div class="duration-scale" aria-hidden="true">
                <span>3 ч</span>
                <span>6 ч</span>
                <span>12 ч</span>
                <span>24 ч</span>
                <span>36 ч+</span>
              </div>
              <div class="duration-current" id="durationCurrent">Сейчас: без ограничения по длительности</div>
              <div class="muted duration-note">Считаем общую длительность маршрута с учётом пересадок.</div>
            </div>
          </div>

          <div class="filters-section">
            <div class="label">Аэропорты вылета</div>
            <div id="originAirportFilter" class="filter-list"></div>
          </div>
          <div class="filters-section">
            <div class="label">Аэропорты прилёта</div>
            <div id="destinationAirportFilter" class="filter-list"></div>
          </div>
          <div class="filters-section">
            <div class="label">Авиакомпании</div>
            <div id="airlineFilter" class="filter-list"></div>
          </div>
          <div class="filters-sheet-footer" id="filtersSheetFooter">
            <button type="button" class="btn-ghost" id="clearFilters">Сбросить</button>
            <button type="button" class="btn-primary" id="filtersApply">Показать результаты</button>
          </div>
        </div>
        <div>
          <div class="card topblock" id="yuviaTopBlock">
            <div class="recommendations-emblem">
              <div class="recommendations-emblem__seal">
                <img src="assets/Mono.png" alt="Монограмма Yuvia" class="recommendations-emblem__icon" />
              </div>
              <div class="recommendations-emblem__text">Yuvia рекомендует</div>
            </div>
            <div class="topblock-row">
              <div class="topblock-heading">
                <div class="section-title" style="margin: 0">Комфортный старт</div>
                <div class="topblock-subtitle" id="yuviaTopSubtitle">
                  Я учёл твой стиль поездки и ограничения по рейсам, убрал ночные и перегруженные стыковки. В этом блоке —
                  варианты, с которых обычно удобно начинать выбор.
                </div>
              </div>
            </div>
            <div class="topblock-list" id="yuviaTopList"></div>
            <div class="topblock-meta">
              <div class="tooltip badge-with-tooltip" data-tooltip="true">
                <div class="tooltip-trigger">Как работает подбор</div>
                <div class="tooltip-popover" role="tooltip">
                  <div class="tooltip-title">Алгоритм Yuvia</div>
                  <div class="tooltip-text">
                    Мы оцениваем удобство рейса (пересадки, время стыковок, ночные вылеты) и балансируем это с
                    ценой. В рекомендациях — варианты, которые подойдут большинству путешественников.
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="favoritesBlock" class="card favorites-block hidden"></div>
          <div id="compareBlock" class="card compare-block hidden"></div>
          <div class="toolbar">
            <div class="label" style="margin: 0">Сортировка</div>
            <select id="sortBy">
              <option value="yuvia_score">Сначала рекомендации Yuvia</option>
              <option value="price_asc">Сначала дешёвые</option>
              <option value="price_desc">Сначала дорогие</option>
              <option value="duration_asc">Короткий путь</option>
              <option value="depart_asc">Ранний вылет</option>
            </select>
            <div class="chip" id="summaryChip" title="Краткая сводка по цене">—</div>
          </div>
          <div class="section-title" style="margin-top: 4px">Результаты</div>
          <div id="results" class="grid"></div>
          <div id="matrixSection">
            <div class="section-title">Соседние даты</div>
            <div id="matrix"></div>
          </div>
      <div class="results-disclaimer">
        <p>
          Отображаемые варианты перелётов и цены основаны на данных сервиса Aviasales (Travelpayouts)
              и являются выборкой лучших предложений на момент запроса. Информация предоставлена исключительно
              в ознакомительных целях и может быть неполной или устаревшей.
            </p>
            <p>
              Актуальная стоимость, наличие мест, расписание рейсов, условия перевозки и маршрут подлежат
              обязательному уточнению на сайте Aviasales и/или у соответствующих перевозчиков и агентств перед
              покупкой билета. Сервис Yuvia не гарантирует точность, полноту и актуальность указанных данных и не
              несёт ответственности за изменения цен, расписания и условий, внесённые авиакомпаниями, агентствами
              или иными третьими лицами.
            </p>
          </div>
        </div>
      </div>
    </div>
    <div id="filtersSheetOverlay" class="filters-sheet-overlay hidden"></div>
    <div id="compareModal" class="compare-modal-backdrop hidden" role="dialog" aria-modal="true">
      <div class="compare-modal">
        <div class="compare-modal-header">
          <h3>Сравнение рейсов</h3>
          <button type="button" class="section-close" id="compareModalDismiss" aria-label="Закрыть сравнение">
            ×
          </button>
        </div>
        <div id="compareYuviaChoice" class="compare-yuvia-choice hidden"></div>
        <div class="compare-tabs" id="compareTabs"></div>
        <table class="compare-table" id="compareTable"></table>
        <div class="compare-close">
          <button type="button" class="btn-ghost btn-sm" id="compareClose">Закрыть</button>
        </div>
      </div>
    </div>
    <div id="loadingOverlay" class="loading-overlay hidden">
      <div class="loading-inner">
        <div class="loading-logo-wrap">
          <video
            class="loading-logo-video"
            autoplay
            muted
            loop
            playsinline
            preload="auto"
          >
            <source src="assets/Yuvia_Anim.webm" type="video/webm" />
          </video>
        </div>
        <div class="loading-text">Ищем лучшие варианты...</div>
      </div>
    </div>
    <div class="version">версия 17.5</div>
    <script src="js/yuvia.js"></script>
  </body>
</html>
